<html>
<head>
	<title>PayPal Shop Maker - Server Testing Script</title>
	<meta name="Expires" content="Tue, 01 Jun 1999 19:58:02 GMT">
	<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<script type="text/javascript">

// Create XMLHTTP
function ewpp_createXMLHttp() {
	if (!(document.getElementById || document.all))
		return;		
	var ret = null;
	try {
		ret = new ActiveXObject('Msxml2.XMLHTTP');
	}	catch (e) {
	    try {
	        ret = new ActiveXObject('Microsoft.XMLHTTP');
	    } catch (ee) {
	        ret = null;
	    }
	}
	if (!ret && typeof XMLHttpRequest != 'undefined')
	    ret = new XMLHttpRequest();	
	return ret;
}

function ewpp_testServer() {	
	if (!(document.getElementById || document.all)) {
		alert("Your browser does not support XMLHTTP, please browse testserver.php directly.");
		return;
	}
	// test PHP
	try {
		var xmlHttp2 = ewpp_createXMLHttp();
		if (!xmlHttp2) return;		
		xmlHttp2.open('get', 'testserver.php');					
		xmlHttp2.onreadystatechange = function() {
			if (xmlHttp2.readyState == 4 && xmlHttp2.status == 200 &&
				xmlHttp2.responseText) {
				//alert(xmlHttp2.responseText);							
				if (xmlHttp2.responseText.substr(0, 2) == "OK")
					ewpp_write("<b>This server supports PHP.</b><br>");				
			}
		}		
		xmlHttp2.send(null);
	}	catch (e) {}
}

function ewpp_write(str) {
	elem = document.getElementById("result");
	if (elem)
		elem.innerHTML += str;
}

</script>
</head>
<body>
<p><b>PayPal Shop Maker - Server Testing Script</b></p>

<p style="color: Red; font-weight: bold;">Note: Remember to delete these testing scripts from your production server after testing!</p>

<b>Test result:</b><br>
<div id="result" style="color: Green;"></div>
<br>
(If above test result is blank, either your browser does not support JavaScript, or your server does not support PHP.)

<p><b>PHP</b><br>
<a href="testserver.php">Check PHP Support</a><br>
<a href="testpath.php">Check Server Paths</a><br>
<a href="testwrite.php">Check Write Permissions</a><br>
<a href="testphpinfo.php">View PHP information (phpinfo)</a>
</p>

<p><b>Email</b><br>
<a href="testemail.php">Test Email Sending</a>
</p>

<p><b>Debug IPN</b><br>
<a href="testipn.php">Debug IPN</a>
</p>

<script type="text/javascript">
ewpp_testServer();
</script>
</html>
